{"version":3,"file":"create-account.bundle.js","sources":["../pages/create-account.js"],"sourcesContent":["// Page elements\r\nconst e_formCreateAccount = $('#form-create-account');\r\nconst e_inputFirstName    = $('#form-create-account-name-first');\r\nconst e_inputLastName     = $('#form-create-account-name-last');\r\nconst e_inputDob          = $('#form-create-account-dob');\r\nconst e_inputEmail        = $('#form-create-account-email');\r\nconst e_inputPassword     = $('#form-create-account-password');\r\nconst e_btnSubmit         = $('#form-create-account-submit');\r\n\r\n/**********************************************************\r\nMain logic\r\n**********************************************************/\r\n$(document).ready(function() {\r\n    LocalStorage.clear();\r\n    addListeners();\r\n});\r\n\r\n\r\n/**********************************************************\r\nAdd all the event listeners to the page\r\n**********************************************************/\r\nfunction addListeners() {\r\n    $(e_btnSubmit).on('click', createAccount);\r\n    \r\n    $(e_formCreateAccount).find('input').on('keypress', function(e) {\r\n        if (e.keyCode == 13) {\r\n            e.preventDefault();\r\n            createAccount();\r\n        }\r\n    });\r\n}\r\n\r\n\r\n/**********************************************************\r\nInitialize the flat pickr elements\r\n**********************************************************/\r\nfunction loadFlatpickr() {\r\n    $(e_inputDob).flatpickr({\r\n        altInput: true,\r\n        altFormat: \"F j, Y\",\r\n        dateFormat: \"Y-m-d\",\r\n    });\r\n}\r\n\r\n/**********************************************************\r\nCreate a new account actions\r\n**********************************************************/\r\nfunction createAccount() {\r\n    disableSubmitButton();\r\n\r\n    // ensure all the input fields are valid \r\n    if (!Utilities.validateForm(e_formCreateAccount)) {\r\n        enableSubmitButton();\r\n        return;\r\n    }\r\n\r\n    let inputValues = getInputValues();\r\n    ApiWrapper.requestPostUser(inputValues, createAccountSuccess, createAccountError);\r\n}\r\n\r\n/**********************************************************\r\nActions to take when the user successfully created an account\r\n**********************************************************/\r\nfunction createAccountSuccess(result,status,xhr) {\r\n    enableSubmitButton();\r\n    window.location.href = '/';\r\n}\r\n\r\n/**********************************************************\r\nActions to take when the user unsuccessfully created an account\r\n**********************************************************/\r\nfunction createAccountError(xhr, status, error) {\r\n    enableSubmitButton();\r\n    console.log(result);\r\n    console.log(status);\r\n    console.log(error);\r\n    Utilities.displayAlert('Error.');\r\n}\r\n\r\n/**********************************************************\r\nDisables the submit button. Waiting for API response\r\n**********************************************************/\r\nfunction disableSubmitButton() {\r\n    $(e_btnSubmit).html(CommonHtml.spinnerSmall);\r\n    $(e_btnSubmit).prop('disabled', true);\r\n}\r\n\r\n\r\n/**********************************************************\r\nEnables the submit button\r\n**********************************************************/\r\nfunction enableSubmitButton() {\r\n    $(e_btnSubmit).html('Create account').prop('disabled', false);\r\n}\r\n\r\n\r\n/**********************************************************\r\nReturns the form input values\r\n**********************************************************/\r\nfunction getInputValues() {\r\n    const values = {};\r\n    values.name_first = $(e_inputFirstName).val();\r\n    values.name_last  = $(e_inputLastName).val();\r\n    values.birth_date = $(e_inputDob).val();\r\n    values.email      = $(e_inputEmail).val();\r\n    values.password   = $(e_inputPassword).val();\r\n\r\n    return values;\r\n}\r\n\r\n\r\n\r\n\r\n"],"names":[],"mappings":"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"}